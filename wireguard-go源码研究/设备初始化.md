# 设备初始化
wg 的核心是 device 对象，是整个 vpn 的总控。

他做了 3 件事：
1. 持有句柄 (Resource Holder): 它拿着 tun.Device（网卡）和 conn.Bind（UDP Socket）。这是它的物理躯壳。
2. 持有数据 (State Store): 它存着 peers map（通信录）和 privateKey（身份证）。这是它的记忆。
3. 生命周期管理 (Lifecycle Manager): 它提供 
    - Up()：把协程（RoutineReceive, RoutineReadFromTUN）都启动起来，把网线（Bind）接好。
    - Down()：把协程停掉，把网线拔了。